---
# tasks file for install_client

# ------------------------------------------------------------------------------
- name: install apt services [main]
  become: true
  apt:
    pkg: "{{ item.name }}"
    state: present
    force_apt_get: yes # apt-get instead of aptitude
  loop: "{{ install_client_apt|flatten(levels=1) }}"
  ignore_errors: yes
  when: (install_client_apt is defined) and (item.install is defined and item.install | bool)
  tags:
    - install_client
    - apt
